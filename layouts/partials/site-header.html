{{ $featured_image := .Params.featured_image }}
{{ if $featured_image }}
  <!-- TIP: How the background image works:
    1. The path is defined in the page's front matter (e.g., content/_index.md).
    2. The image file itself must be placed in the 'static' folder (e.g., static/images/background.jpg).
    3. Hugo's `relURL` function converts the path to a correct, site-relative URL. -->
  {{/* If a featured image is set, use it as a background */}}
  <!-- <header class="cover bg-top" style="background-image: url('{{ $featured_image | relURL }}');"> -->
  <header class="cover bg-top" style="background-image: url('{{ $featured_image | relURL }}');">
    <div class="pb3-m pb4-l bg-black-60">
      {{ partial "site-navigation.html" . }}
      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          {{ .Title | default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center mt3">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ else }}
  {{/* If no image, display the header with a solid background */}}
  <header>
    <div class="pb3-m pb4-l {{ .Site.Params.background_color_class | default "bg-black" }}">
      {{ partial "site-navigation.html" . }}
      <div class="tc-l pb2 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          {{ .Title | default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ end }}